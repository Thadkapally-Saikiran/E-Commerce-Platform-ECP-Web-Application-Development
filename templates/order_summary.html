{% extends "base.html" %}
<!-- ğŸ“¦ This template inherits from base.html to reuse common layout elements like the header, footer, and global styles -->

{% block head %}
    <!-- ğŸ¨ Include a custom stylesheet specific to the order summary page -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/order_summary.css') }}">
{% endblock %}

{% block content %}
<!-- ğŸ§¾ Main container for the order summary section -->
<div class="order-container">
    <!-- ğŸ›ï¸ Main heading for the page -->
    <h2>ğŸ§¾ Order Summary</h2>
    
    <!-- ğŸ“¦ Container holding all the order-related details -->
    <div class="order-details">
        <!-- ğŸ§¸ Display the product name in bold with label -->
        <p><strong>ğŸ“¦ Product:</strong> {{ product.name }}</p>
        
        <!-- ğŸ’² Display unit price by calculating total price divided by quantity 
             This helps show the per-item cost even if it's not directly stored -->
        <p><strong>ğŸ’² Unit Price:</strong> â‚¹{{ '%.2f'|format(order.total_price / order.quantity) }}</p>

        <!-- ğŸ”¢ Show the quantity of products ordered -->
        <p><strong>ğŸ”¢ Quantity:</strong> {{ order.quantity }}</p>
        
        <!-- ğŸ§® Show the total amount paid for the entire order -->
        <p><strong>ğŸ§® Total Price:</strong> â‚¹{{ '%.2f'|format(order.total_price) }}</p>
        
        <!-- ğŸ  Display the shipping address label -->
        <p><strong>ğŸ  Shipping Address:</strong></p>
        <!-- ğŸ“¬ Show the actual shipping address entered by the user -->
        <p>{{ order.address }}</p>
        
        <!-- ğŸ“… Display the date when the order was placed -->
        <p><strong>ğŸ“… Order Date:</strong> {{ order.order_date }}</p>
        
        <!-- ğŸ“¦ Show the expected delivery date -->
        <p><strong>ğŸšš Estimated Delivery:</strong> {{ order.delivery_date }}</p>
        
        <!-- ğŸ“Œ Display current status of the order, styled by a dynamic class based on status -->
        <p>
            <strong>ğŸ“Œ Status:</strong>
            <span class="status {{ order.status|lower }}">
                {{ order.status }}
            </span>
        </p>

        <!-- ğŸ“¦ Optional: Show tracking ID only if it's available (conditional rendering) -->
        {% if order.tracking_id %}
        <p><strong>ğŸ“¦ Tracking ID:</strong> {{ order.tracking_id }}</p>
        {% endif %}

        <!-- ğŸ’³ Button to navigate to the payment page using the order ID dynamically -->
        <a href="{{ url_for('payment', order_id=order.id) }}" class="btn">ğŸ’³ Proceed to Payment</a>
    </div>
</div>
{% endblock %}

{# ğŸ“„ Extend the base layout template to maintain consistent structure and styling #}
{% extends "base.html" %}

{% block head %}
    <!-- ğŸ¨ Link the external colorful checkout CSS file stored in the static folder -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/checkout.css') }}">
{% endblock %}

{% block content %}
<!-- ğŸŒŸ Main container for the checkout section -->
<div class="checkout-container">

    <!-- ğŸ›’ Checkout page title -->
    <h2>ğŸ§¾ Checkout</h2>

    <!-- ğŸ›ï¸ Display the product name dynamically using Jinja -->
    <h3>ğŸ›ï¸ Buying: <span>{{ product.name }}</span></h3>

    {# ğŸ’¸ Calculate discounted price using the formula: price - (price * discount%) #}
    {% set discounted_price = product.price - (product.price * product.discount / 100) %}

    <!-- ğŸ’² Show the discounted unit price formatted to 2 decimal places -->
    <h3>ğŸ’² Unit Price: â‚¹{{ '%.2f'|format(discounted_price) }}</h3>

    <!-- ğŸ”¢ Display the selected quantity, which may come from the cart or default to 1 -->
    <h3>ğŸ”¢ Quantity: {{ quantity }}</h3>

    <!-- ğŸ§® Calculate and display the total price (unit price Ã— quantity) -->
    <h3>ğŸ§® Total Price: â‚¹{{ '%.2f'|format(discounted_price * quantity) }}</h3>

    <!-- ğŸšš Begin the shipping address form -->
    <form method="POST" class="checkout-form">

        <!-- ğŸ  Input for full address (street, building, apartment, etc.) -->
        <label for="address">ğŸ  Full Address</label>
        <input type="text" id="address" name="address" placeholder="Street, Apartment, etc." required>

        <!-- ğŸ™ï¸ Input for city name -->
        <label for="city">ğŸ™ï¸ City</label>
        <input type="text" id="city" name="city" placeholder="Enter your city" required>

        <!-- ğŸŒ† Input for state name -->
        <label for="state">ğŸŒ† State</label>
        <input type="text" id="state" name="state" placeholder="Enter your state" required>

        <!-- ğŸ“® Input for postal code (PIN) -->
        <label for="pin">ğŸ“® PIN Code</label>
        <input type="text" id="pin" name="pin" placeholder="6-digit postal code" required>

        <!-- âœ… Submit button to place the order -->
        <button type="submit" class="btn">âœ… Proceed to Order</button>
    </form>

</div> <!-- ğŸ§¾ End of checkout container -->
{% endblock %}
